
{% extends "AppBundle::layout.html.twig" %}

{% block title %}
    Accueil - {{ parent() }}
{% endblock %}

{% block body %}

    <div class="container">

        <div class="jumbotron">
            <h1>JobNow</h1>
            <p>Our mission is to enable locally-present companies find the right candidates at the right moment and to help candidates find their ideal job in Luxembourg. Therefore our dedicated local team of multi-lingual experts works hard every day in order to offer first class customer service combined with state of the art technology. Today, jobs.lu is the benchmark in Luxembourg when it comes to high quality online recruitment and we will continue to develop ourselves further in order to meet our commitment</p>
            <p >
                <form method="post" action="{{ path('search_page_offer') }}" id="search-offer-homepage">
                    <div style="text-align: center">
                        <input name="keyword" type="text" id="keyword-input" placeholder="{{ 'form.offer.search.keyword' | trans }}" title="{{ 'form.offer.search.keyword' | trans }}">
                        <input name="location" type="text" id="location-input" placeholder="{{ 'form.offer.search.location' | trans }}" title="{{ 'form.offer.search.location' | trans }}">
                        <input type="submit" class="btn btn-primary searchOffer" value="Search">
                    </div>
                </form>
            </p>
        </div>

        <div class="row featured-offer animated">
            {% if featuredOffer|length > 1 %}
                <h1>Featured Jobs</h1>
            {% endif %}
            {% if featuredOffer|length == 1 %}
                {% set blocOffer = 12 %}
            {% elseif featuredOffer|length == 2 %}
                {% set blocOffer = 6 %}
            {% else %}
                {% set blocOffer = 4 %}
            {% endif %}
            {%  for offer in featuredOffer %}
                <a class="col-sm-6 col-md-{{ blocOffer }} zoom" href="{{ path('show_offer', {'id': offer.offer.id}) }}">
                    <div class="thumbnail">
                        <div class="caption background-offer" style="background-image: url('/jobnowlu/web/uploads{{ vich_uploader_asset(offer.offer.employer.coverImage, 'imageFile', 'AppBundle\\Entity\\Image') }}');min-height: 185px;">
                            <div class="layer">
                            </div>
                            <div class="offer-thumb-image-div">
                                {% if offer.offer.employer.logo is not null %}<img src="/jobnowlu/web/uploads{{ vich_uploader_asset(offer.offer.employer.logo, 'imageFile', 'AppBundle\\Entity\\Image') }}" class="offer-thumb-logo" />{% endif %}
                            </div>
                        </div>

                        <div class="caption">
                            <h3>{{ offer.offer.title }} / {{ offer.offer.id }}</h3>
                            <p>{{ offer.offer.location }} / {{ offer.offer.contractType.name |trans }}</p>
                            <p class="offer-thumb-description">{{ offer.offer.description }}</p>
                        </div>
                    </div>
                </a>
            {% endfor %}
        </div>

        <div class="row featured-employer animated">
            {% if featuredEmployer|length > 1 %}
                <h1>Featured Employer</h1>
            {% endif %}
            {% if featuredEmployer|length == 1 %}
                {% set blocEmployer = 12 %}
            {% elseif featuredEmployer|length == 2 %}
                {% set blocEmployer = 6 %}
            {% else %}
                {% set blocEmployer = 4 %}
            {% endif %}
            {%  for employer in featuredEmployer %}
            <a class="col-sm-6 col-md-{{ blocEmployer }} zoom thump-employer" href="{{ path('show_employer', {'id':employer.employer.id}) }}">
                <div class="thumbnail" >
                    <div class="header-thumb-employer">
                        {% if employer.employer.logo is not null %}<img src="/jobnowlu/web/uploads{{ vich_uploader_asset(employer.employer.logo, 'imageFile', 'AppBundle\\Entity\\Image') }}" class="employer-thumb-logo" />{% endif %}
                        <h3>{{ employer.employer.name }}</h3>
                    </div>
                    <div class="caption" style="background-image: url('/jobnowlu/web/uploads{{ vich_uploader_asset(employer.employer.coverImage, 'imageFile', 'AppBundle\\Entity\\Image') }}');min-height: 185px;">
                    </div>
                    <div class="thumb-employer-info">
                        {{ employer.employer.description }}
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>


    </div>

    <style>
        .background-offer{
            border-top-left-radius: 3px;
            border-top-right-radius: 3px;
            position: relative;
            display: flex;
            align-items: center;
            text-align: center;
        }
        .layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:rgba(0,0,0,0.6);
            opacity: 0.5;
            border-top-left-radius: 3px;
            border-top-right-radius: 3px;
        }
        .thumbnail{
            padding-left: 0;
            padding-right: 0;
            padding-top: 0;
        }
        .header-thumb-employer{
            display: inline-flex;
            padding-top: 4px;
        }
        .header-thumb-employer h3{
            margin-top: 12px;

        }
        .thumb-employer-info{
            font-size: 16px;
            margin: 10px;
            height: 100px;
        }
        .employer-thumb-logo{
            width: 62px;
            height: 45px;
            margin-right: 10px;
            margin-left: 10px;
        }
        .offer-thumb-image-div{
            position: relative;
        }
        .col-md-4 .offer-thumb-image{
            height: 200px !important;
        }
        .col-md-4 .offer-thumb-image-div{
            min-height: 200px;
        }
        .offer-thumb-logo{
            width: 20%;
        }
        .offer-thumb-description{
            height: 100px;
        }
        .zoom {
            transition: transform .2s;
            text-decoration: none !important;
            color:#333;
            margin-top: 10px;
        }
        .zoom:hover {
            -ms-transform: scale(1.1); /* IE 9 */
            -webkit-transform: scale(1.1); /* Safari 3-8 */
            transform: scale(1.1);
        }
    </style>

    <script>
        $.fn.visible = function(partial) {

            let $t            = $(this),
                $w            = $(window),
                viewTop       = $w.scrollTop(),
                viewBottom    = viewTop + $w.height(),
                _top          = $t.offset().top,
                _bottom       = _top + $t.height(),
                compareTop    = partial === true ? _bottom : _top,
                compareBottom = partial === true ? _top : _bottom;

            return ((compareBottom <= viewBottom) && (compareTop >= viewTop));

        };

        if( $('.featured-offer').visible(true)){
            $('.featured-offer').addClass('fadeInRight');
        }
        if( $('.featured-employer').visible(true)){
            $('.featured-employer').addClass('fadeInLeft');
        }

        $(window).scroll(function() {
            if( $('.featured-offer').visible(true)){
                $('.featured-offer').addClass('fadeInRight');
            }
            if( $('.featured-employer').visible(true)){
                $('.featured-employer').addClass('fadeInLeft');
            }
        });
    </script>

{% endblock %}




